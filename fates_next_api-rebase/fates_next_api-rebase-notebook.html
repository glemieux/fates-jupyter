

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>fates_next_api rebase into ctsm1.0.dev093 &mdash; FATES development notebooks</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/mystnb.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx-thebe.css" type="text/css" />
  <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
  <link rel="stylesheet" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/togglebutton.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
        <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
        <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
        <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
        <script async="async" src="../_static/sphinx-thebe.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Issue 383 study" href="../leaf-flutter/README.html" />
    <link rel="prev" title="fates_next_api rebase into ctsm1.0.dev093" href="README.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../README.html">
          

          
            
            <img src="../_static/ngeet.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">California</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../california/README.html">California FATES development</a></li>
</ul>
<p class="caption"><span class="caption-text">Fragmentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../fragmentation/README.html">FATES-HLM fragmentation scalar implementation</a></li>
</ul>
<p class="caption"><span class="caption-text">FATES_MAIN_API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="README.html">fates_next_api rebase into ctsm1.0.dev093</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">fates_next_api rebase into ctsm1.0.dev093</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Leaf Flutter</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../leaf-flutter/README.html">Issue 383 study</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../README.html">Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../README.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="README.html">fates_next_api rebase into ctsm1.0.dev093</a> &raquo;</li>
        
      <li>fates_next_api rebase into ctsm1.0.dev093</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/fates_next_api-rebase/fates_next_api-rebase-notebook.ipynb" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fates-next-api-rebase-into-ctsm1-0-dev093">
<h1>fates_next_api rebase into ctsm1.0.dev093<a class="headerlink" href="#fates-next-api-rebase-into-ctsm1-0-dev093" title="Permalink to this headline">¶</a></h1>
<div class="section" id="long-term-tests-100-year">
<h2>Long-term tests (100 year)<a class="headerlink" href="#long-term-tests-100-year" title="Permalink to this headline">¶</a></h2>
<div class="section" id="single-site-test-bci">
<h3>Single site test: BCI<a class="headerlink" href="#single-site-test-bci" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Case location: lobata workstation</p>
<ul>
<li><p>fates_next_api baselines:</p>
<ul>
<li><p>Baseline 1 (sci.1.36.0_api.11.2.0): <code class="docutils literal notranslate"><span class="pre">/home/glemieux/scratch/clmed-cases/fna-rebase.Ce33b4658-F7c065e21.2020-07-27</span></code></p></li>
<li><p>Baseline 2 (sci.1.40.1_api.13.0.1): <code class="docutils literal notranslate"><span class="pre">/home/glemieux/scratch/clmed-cases/fna-rebase-2.Cabcd5937-F3248e633.2020-08-05</span></code></p></li>
</ul>
</li>
<li><p>fates_main_api tests:</p>
<ul>
<li><p>Test 1 (sci.1.36.0_api.11.2.0): <code class="docutils literal notranslate"><span class="pre">/home/glemieux/scratch/clmed-cases/fna-rebase.C024b43a8-F7c065e21.2020-07-27</span></code></p></li>
<li><p>Test 2 (sci.1.40.1_api.13.0.1): <code class="docutils literal notranslate"><span class="pre">/home/glemieux/scratch/clmed-cases/fna-rebase-2.Cd6ef097c-F3248e633.2020-08-05</span></code></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="gridded-test-f10-f10-mg37-resolution">
<h3>Gridded test: <code class="docutils literal notranslate"><span class="pre">f10_f10_mg37</span></code> resolution<a class="headerlink" href="#gridded-test-f10-f10-mg37-resolution" title="Permalink to this headline">¶</a></h3>
<p>All plots are a difference between the fates_main_api test and the fates_next_api baseline for the last time step.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="n">Makie</span><span class="p">,</span> <span class="n">AbstractPlotting</span>
<span class="k">using</span> <span class="n">Images</span><span class="p">,</span> <span class="n">ImageView</span>
<span class="k">using</span> <span class="n">TestImages</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>┌ Info: Precompiling Makie [ee78f7c6-11fb-53f2-987a-cfe4a2b5a57a]
└ @ Base loading.jl:1278
┌ Info: Precompiling Images [916415d5-f1e6-5110-898d-aaa5f9f070e0]
└ @ Base loading.jl:1278
┌ Info: Precompiling ImageView [86fae568-95e7-573e-a6b2-d8a6b900c9ef]
└ @ Base loading.jl:1278
Gtk-Message: 09:07:39.464: Failed to load module &quot;appmenu-gtk-module&quot;
Gtk-Message: 09:07:39.535: Failed to load module &quot;canberra-gtk-module&quot;
Gtk-Message: 09:07:39.536: Failed to load module &quot;canberra-gtk-module&quot;
Gtk-Message: 09:07:44.496: Failed to load module &quot;appmenu-gtk-module&quot;
Gtk-Message: 09:07:44.566: Failed to load module &quot;canberra-gtk-module&quot;
Gtk-Message: 09:07:44.566: Failed to load module &quot;canberra-gtk-module&quot;
┌ Warning: The call to compilecache failed to create a usable precompiled cache file for ImageView [86fae568-95e7-573e-a6b2-d8a6b900c9ef]
│   exception = ErrorException(&quot;Required dependency GTK3_jll [77ec8976-b24b-556a-a1bf-49a033a670a6] failed to load from a cache file.&quot;)
└ @ Base loading.jl:1042
┌ Warning: Replacing module `GTK3_jll`
└ @ Base loading.jl:948
Gtk-Message: 09:08:13.362: Failed to load module &quot;appmenu-gtk-module&quot;
Gtk-Message: 09:08:13.446: Failed to load module &quot;canberra-gtk-module&quot;
Gtk-Message: 09:08:13.446: Failed to load module &quot;canberra-gtk-module&quot;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">timg</span> <span class="o">=</span> <span class="n">testimage</span><span class="p">(</span><span class="s">&quot;lighthouse&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold -Color-Bold-Green">Downloading</span> artifact: images
?25l
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>######################################################################### 100.0%
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>?25h
</pre></div>
</div>
<img alt="../_images/fates_next_api-rebase-notebook_5_3.png" src="../_images/fates_next_api-rebase-notebook_5_3.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">typeof</span><span class="p">(</span><span class="n">timg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Array{RGB{Normed{UInt8,8}},2}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">image</span><span class="p">(</span><span class="n">timg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">img</span> <span class="o">=</span> <span class="s">&quot;Test-Cases/Long-Term/gridded/pftleafbiomass_pft-12_main-next_and_map.png&quot;</span>
<span class="n">loadedimg</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="n">typeof</span><span class="p">(</span><span class="n">loadedimg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Array{RGBA{Normed{UInt8,8}},2}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">imshow</span><span class="p">(</span><span class="n">loadedimg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dict{String,Any} with 4 entries:
  &quot;gui&quot;         =&gt; Dict{String,Any}(&quot;window&quot;=&gt;GtkWindowLeaf(name=&quot;&quot;, parent, wi…
  &quot;roi&quot;         =&gt; Dict{String,Any}(&quot;redraw&quot;=&gt;32: &quot;map(f-mapped image, input-2)…
  &quot;annotations&quot; =&gt; 2: &quot;input-2&quot; = Dict{UInt64,Any}() Dict{UInt64,Any} 
  &quot;clim&quot;        =&gt; nothing
</pre></div>
</div>
</div>
</div>
<p>AGB | BIOMASS_CANOPY</p>
<p><img src="Test-Cases/Long-Term/gridded/agb_main-next_end_map.png" alt="Image Test" style="width:600px"> <img src="Test-Cases/Long-Term/gridded/biomass_canopy_main-next_end_map.png" alt="Image Test" style="width:600px"></p>
<p>BIOMASS_CANOPY</p>
<p><img alt="BIOMASS_CANOPY" src="../_images/biomass_canopy_main-next_end_map.png" /></p>
<p>BIOMASS_CANOPY</p>
<p><img alt="BIOMASS_CANOPY" src="../_images/biomass_canopy_main-next_end_map.png" /></p>
<p>ED_BIOMASS</p>
<p><img alt="ED_BIOMASS" src="../_images/ed_biomass_cwd_main-next_end_map.png" /></p>
<p>GPP</p>
<p><img alt="GPP" src="../_images/gpp_main-next_end_map.png" /></p>
<p>LITTER_CWD</p>
<p><img alt="LITTER_CWD" src="../_images/litter_cwd_main-next_k1_end_map.png" /></p>
<p>NEP</p>
<p><img alt="NEP" src="../_images/nep_main-next_end_map.png" /></p>
<p>NPP</p>
<p><img alt="NPP" src="../_images/npp_main-next_end_map.png" /></p>
<p>PFTLEAFBIOMASS, PFT 1</p>
<p><img alt="PFTLEAFBIOMASS_PFT1" src="../_images/pftleafbiomass_pft-1_main-next_and_map.png" /></p>
<p>PFTLEAFBIOMASS, PFT 12</p>
<p><img alt="PFTLEAFBIOMASS_PFT12" src="../_images/pftleafbiomass_pft-12_main-next_and_map.png" /></p>
<p>TLAI</p>
<p><img alt="TLAI" src="../_images/tlai_main-next_end_map.png" /></p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "julia-1.5"
        },
        kernelOptions: {
            kernelName: "julia-1.5",
            path: "./fates_next_api-rebase"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'julia-1.5'</script>

           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../leaf-flutter/README.html" class="btn btn-neutral float-right" title="Issue 383 study" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="README.html" class="btn btn-neutral float-left" title="fates_next_api rebase into ctsm1.0.dev093" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>laimemory CESM log output &mdash; FATES development notebooks</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/mystnb.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinx-thebe.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/togglebutton.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
        <script src="../../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
        <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
        <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
        <script async="async" src="../../_static/sphinx-thebe.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Deciduous test analysis" href="README.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../README.html">
          

          
            
            <img src="../../_static/ngeet.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">California</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../california/README.html">California FATES development</a></li>
</ul>
<p class="caption"><span class="caption-text">Fragmentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../fragmentation/README.html">FATES-HLM fragmentation scalar implementation</a></li>
</ul>
<p class="caption"><span class="caption-text">fates_main_api</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../fates_main_api/fates_next_api-rebase/README.html">fates_next_api rebase into ctsm1.0.dev093</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fates_main_api/fates_main_api-merges/README.html"><code class="docutils literal notranslate"><span class="pre">fates_main_api</span></code> merges</a></li>
</ul>
<p class="caption"><span class="caption-text">Leaf Flutter</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../README.html">Issue 383 study</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../issue383-optimum-clai-trim-fraction.html">Issue 383 Optimum LAI versus trim increment</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="README.html">Deciduous test analysis</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">laimemory</span></code> CESM log output</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../README.html">Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../README.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../README.html">Issue 383 study</a> &raquo;</li>
        
          <li><a href="README.html">Deciduous test analysis</a> &raquo;</li>
        
      <li><code class="docutils literal notranslate"><span class="pre">laimemory</span></code> CESM log output</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/leaf-flutter/deciduous/cesmlog-parser.ipynb" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="laimemory-cesm-log-output">
<h1><code class="docutils literal notranslate"><span class="pre">laimemory</span></code> CESM log output<a class="headerlink" href="#laimemory-cesm-log-output" title="Permalink to this headline">Â¶</a></h1>
<p>This notebook presents the summary of the cesm log output to determine why all the deciduous pfts are coming into the <code class="docutils literal notranslate"><span class="pre">trim_canopy</span></code> function with zero <code class="docutils literal notranslate"><span class="pre">laimemory</span></code> and thus resulting in a B4B comparison to the original <code class="docutils literal notranslate"><span class="pre">laimemory</span></code> adjustment.</p>
<p>Setup necessary packages</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="n">DataFrames</span>
</pre></div>
</div>
</div>
</div>
<p>Set the filename</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="c"># filename = &quot;/home/gregorylemieux/Work/Issues/383/deciduous-griddedruns/cesm.log.1805694.chadmin1.ib0.cheyenne.ucar.edu.200417-103849&quot;</span>
<span class="c"># filename = &quot;/home/gregorylemieux/Work/Issues/383/deciduous-griddedruns/cesm.log.1851933.chadmin1.ib0.cheyenne.ucar.edu.200420-102252&quot;</span>
<span class="c"># filename = &quot;/home/gregorylemieux/Work/Issues/383/deciduous-griddedruns/cesm.log.1855695.chadmin1.ib0.cheyenne.ucar.edu.200420-130249&quot;</span>
<span class="c"># filename = &quot;/home/gregorylemieux/Work/Issues/383/deciduous-griddedruns/cesm.log.1877502.chadmin1.ib0.cheyenne.ucar.edu.200421-125647&quot;</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s">&quot;/home/gregorylemieux/Work/Issues/383/deciduous-griddedruns/cesm.log.1927093.chadmin1.ib0.cheyenne.ucar.edu.200423-153202&quot;</span>
<span class="c"># filename = &quot;/home/gregorylemieux/Work/Issues/383/deciduous-griddedruns/cesm.log.1937038.chadmin1.ib0.cheyenne.ucar.edu.200424-103859&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;/home/gregorylemieux/Work/Issues/383/deciduous-griddedruns/cesm.log.1927093.chadmin1.ib0.cheyenne.ucar.edu.200423-153202&quot;
</pre></div>
</div>
</div>
</div>
<p>Pull out the tread numbers (this should be sequential)cesm.log.1927093.chadmin1.ib0.cheyenne.ucar.edu.200423-153202</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="c"># Open the file</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

<span class="c"># Read through each line and pull out the unique threadnumbers</span>
<span class="n">A</span> <span class="o">=</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Int64</span><span class="p">}()</span> <span class="c"># Initialize</span>
<span class="k">for</span> <span class="n">line</span> <span class="kp">in</span> <span class="n">eachline</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="n">threadnum</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="kt">Int64</span><span class="p">,</span><span class="n">split</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="s">&quot;:&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span> <span class="c"># Parse the line for the thread number</span>
    <span class="k">if</span> <span class="o">!</span><span class="p">(</span><span class="kp">in</span><span class="p">(</span><span class="n">threadnum</span><span class="p">,</span><span class="n">A</span><span class="p">))</span> <span class="c"># If not in the array add it</span>
        <span class="n">push!</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">threadnum</span><span class="p">)</span>
    <span class="k">end</span>
<span class="k">end</span>

<span class="c"># Close the file</span>
<span class="n">close</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Run a couple of checks</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="c"># Check all entries are unique</span>
<span class="n">println</span><span class="p">(</span><span class="n">A</span> <span class="o">==</span> <span class="n">unique</span><span class="p">(</span><span class="n">A</span><span class="p">))</span>

<span class="c"># Check that the thread numbers are sequential</span>
<span class="n">println</span><span class="p">(</span><span class="n">sort!</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="o">==</span> <span class="kt">Array</span><span class="p">(</span><span class="mi">0</span><span class="o">:</span><span class="n">maximum</span><span class="p">(</span><span class="n">A</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>true
true
</pre></div>
</div>
</div>
</div>
<div class="section" id="setting-up-search-values-and-dicts">
<h2>Setting up search values and dicts<a class="headerlink" href="#setting-up-search-values-and-dicts" title="Permalink to this headline">Â¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="c"># Set the known strings we are interested in</span>
<span class="n">string_canopy</span> <span class="o">=</span> <span class="s">&quot;Starting canopy trim&quot;</span>
<span class="n">string_cohort</span> <span class="o">=</span> <span class="s">&quot;Current cohort&quot;</span>
<span class="n">string_laimem</span> <span class="o">=</span> <span class="s">&quot;Starting laimemory&quot;</span>
<span class="n">string_leafm</span> <span class="o">=</span> <span class="s">&quot;Starting leaf biomass&quot;</span>
<span class="n">string_treelai</span> <span class="o">=</span> <span class="s">&quot;currentCohort%treelai&quot;</span>
<span class="n">string_season</span> <span class="o">=</span> <span class="s">&quot;EDPftvarcon_inst</span><span class="si">%s</span><span class="s">eason_decid&quot;</span>
<span class="n">string_stress</span> <span class="o">=</span> <span class="s">&quot;EDPftvarcon_inst</span><span class="si">%s</span><span class="s">tress_decid&quot;</span>
<span class="n">string_evergreen</span> <span class="o">=</span> <span class="s">&quot;EDPftvarcon_inst</span><span class="si">%e</span><span class="s">vergreen&quot;</span>
<span class="n">string_optimum</span> <span class="o">=</span> <span class="s">&quot;OPTIMUM_LAIMEM&quot;</span>
<span class="n">string_cumulative</span> <span class="o">=</span> <span class="s">&quot;CUMULATIVE LAI&quot;</span>
<span class="n">string_trimopt</span> <span class="o">=</span> <span class="s">&quot;OPTIMUM TRIM&quot;</span>
<span class="n">string_nnu</span> <span class="o">=</span> <span class="s">&quot;nnu_clai_a&quot;</span>
<span class="n">string_nv</span> <span class="o">=</span> <span class="s">&quot;currentCohort%nv&quot;</span>
<span class="n">string_cstatus</span> <span class="o">=</span> <span class="s">&quot;currentSite</span><span class="si">%c</span><span class="s">status&quot;</span>
<span class="n">string_dstatus</span> <span class="o">=</span> <span class="s">&quot;currentSite</span><span class="si">%d</span><span class="s">status&quot;</span>
<span class="n">string_coh</span> <span class="o">=</span> <span class="s">&quot;currentCohort</span><span class="si">%s</span><span class="s">tatus_coh&quot;</span>
<span class="n">string_end</span> <span class="o">=</span> <span class="s">&quot;End of cohort info&quot;</span>

<span class="n">nll</span> <span class="o">=</span> <span class="mi">4</span>

<span class="c"># Initialize vectors</span>
<span class="n">thread_vec</span> <span class="o">=</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Int64</span><span class="p">}()</span>
<span class="n">laimem_vec</span> <span class="o">=</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}()</span>
<span class="n">treelai_vec</span> <span class="o">=</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}()</span>
<span class="n">leafmass_vec</span> <span class="o">=</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}()</span>
<span class="n">leafmass_vec</span> <span class="o">=</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}()</span>
<span class="n">seasonal_vec</span> <span class="o">=</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}()</span>
<span class="n">stress_vec</span> <span class="o">=</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}()</span>
<span class="n">evergreen_vec</span> <span class="o">=</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}()</span>
<span class="n">leafonoff_vec</span> <span class="o">=</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Int64</span><span class="p">}()</span>
<span class="n">cstatus_vec</span> <span class="o">=</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Int64</span><span class="p">}()</span>
<span class="n">dstatus_vec</span> <span class="o">=</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Int64</span><span class="p">}()</span>
<span class="n">nnu_vec</span> <span class="o">=</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Float64</span><span class="p">}()</span>

<span class="n">totallaicount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="parse-the-cesm-log">
<h2>Parse the cesm log<a class="headerlink" href="#parse-the-cesm-log" title="Permalink to this headline">Â¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>IOStream(&lt;file /home/gregorylemieux/Work/Issues/383/deciduous-griddedruns/cesm.log.1927093.chadmin1.ib0.cheyenne.ucar.edu.200423-153202&gt;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="c"># Leaf status check loop</span>
<span class="n">totallaicount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span> <span class="n">t</span> <span class="kp">in</span> <span class="n">A</span>
<span class="c">#     println(t)</span>
    
<span class="c"># Try implementing regex instead of parse</span>
<span class="c">#     f = open(filename) # Open the file`</span>
    
    <span class="c"># Iterate through file</span>
    <span class="k">for</span> <span class="n">line</span> <span class="kp">in</span> <span class="n">eachline</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        
        <span class="n">linesplit</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="s">&quot;:&quot;</span><span class="p">)</span> <span class="c"># Split into array of strings</span>
        <span class="n">threadnum</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="kt">Int64</span><span class="p">,</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="c"># Parse the line for the thread number</span>
        
        <span class="c"># Make sure the line format is threadnum:string:val</span>
        <span class="k">if</span> <span class="n">threadnum</span> <span class="o">==</span> <span class="n">t</span> <span class="o">&amp;&amp;</span> <span class="n">length</span><span class="p">(</span><span class="n">linesplit</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span> <span class="o">&amp;&amp;</span> <span class="n">isempty</span><span class="p">(</span><span class="n">findall</span><span class="p">(</span><span class="n">isempty</span><span class="p">,</span><span class="n">linesplit</span><span class="p">))</span>
            
            <span class="k">if</span> <span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="n">string_laimem</span>
                <span class="n">totallaicount</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c"># Count up the total laimemory loops</span>
                <span class="n">push!</span><span class="p">(</span><span class="n">thread_vec</span><span class="p">,</span><span class="n">threadnum</span><span class="p">)</span>
                <span class="n">push!</span><span class="p">(</span><span class="n">laimem_vec</span><span class="p">,</span><span class="n">parse</span><span class="p">(</span><span class="kt">Float64</span><span class="p">,</span><span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span>
                
            <span class="c"># Next is the leaf biomass</span>
            <span class="k">elseif</span> <span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="n">string_leafm</span>
                <span class="n">push!</span><span class="p">(</span><span class="n">leafmass_vec</span><span class="p">,</span><span class="n">parse</span><span class="p">(</span><span class="kt">Float64</span><span class="p">,</span><span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span>

            <span class="c"># Next is the leaf biomass</span>
            <span class="k">elseif</span> <span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="n">string_treelai</span>
                <span class="n">push!</span><span class="p">(</span><span class="n">treelai_vec</span><span class="p">,</span><span class="n">parse</span><span class="p">(</span><span class="kt">Float64</span><span class="p">,</span><span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span>
                    
            <span class="c"># Next three lines should be the deciduous/evergreen states</span>
            <span class="k">elseif</span> <span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="n">string_season</span>
                <span class="n">push!</span><span class="p">(</span><span class="n">seasonal_vec</span><span class="p">,</span><span class="n">parse</span><span class="p">(</span><span class="kt">Float64</span><span class="p">,</span><span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span>
            <span class="k">elseif</span> <span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="n">string_stress</span>
                <span class="n">push!</span><span class="p">(</span><span class="n">stress_vec</span><span class="p">,</span><span class="n">parse</span><span class="p">(</span><span class="kt">Float64</span><span class="p">,</span><span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span>
            <span class="k">elseif</span> <span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="n">string_evergreen</span>
                <span class="n">push!</span><span class="p">(</span><span class="n">evergreen_vec</span><span class="p">,</span><span class="n">parse</span><span class="p">(</span><span class="kt">Float64</span><span class="p">,</span><span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span>
                
            <span class="c"># Next is the leaf on/off status</span>
            <span class="k">elseif</span> <span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="n">string_coh</span>
                <span class="n">push!</span><span class="p">(</span><span class="n">leafonoff_vec</span><span class="p">,</span><span class="n">parse</span><span class="p">(</span><span class="kt">Int64</span><span class="p">,</span><span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span> <span class="c"># leaves_off = 1, leaves_on = 2</span>
                
            <span class="c"># Next is the cold and drought statuses</span>
            <span class="k">elseif</span> <span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="n">string_cstatus</span>
                <span class="c"># Cold Leaf Off = 0 or 1, Cold Leaf On = 2</span>
                <span class="n">push!</span><span class="p">(</span><span class="n">cstatus_vec</span><span class="p">,</span><span class="n">parse</span><span class="p">(</span><span class="kt">Int64</span><span class="p">,</span><span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span> <span class="c"># phen_cstat_nevercold = 0, phen_cstat_iscold = 1, phen_cstat_notcold = 2</span>
            <span class="k">elseif</span> <span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="n">string_dstatus</span>
                <span class="c"># Drought Leaf On = 2 or 3, Drought Leaf Off = 0 or 1</span>
                <span class="n">push!</span><span class="p">(</span><span class="n">dstatus_vec</span><span class="p">,</span><span class="n">parse</span><span class="p">(</span><span class="kt">Int64</span><span class="p">,</span><span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span> <span class="c"># phen_dstat_timeon = 2, phen_dstat_moiston = 3, phen_dstat_moistoff = 0, phen_dstat_timeoff = 1</span>
            <span class="k">elseif</span> <span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">==</span> <span class="n">string_nnu</span>
                <span class="c"># Determines if optimization routine will be entered</span>
                <span class="n">push!</span><span class="p">(</span><span class="n">nnu_vec</span><span class="p">,</span><span class="n">parse</span><span class="p">(</span><span class="kt">Float64</span><span class="p">,</span><span class="n">strip</span><span class="p">(</span><span class="n">linesplit</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span>
            <span class="k">end</span> <span class="c"># string match</span>
        <span class="k">end</span> <span class="c"># thread match</span>
    <span class="k">end</span> <span class="c"># eachline</span>
    <span class="k">if</span> <span class="n">eof</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="n">seekstart</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">end</span>
<span class="c">#     close(f) # Close the file</span>
<span class="k">end</span>            
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">close</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="check-combinations-to-determine-when-laimemory-is-0">
<h2>Check combinations to determine when <code class="docutils literal notranslate"><span class="pre">laimemory</span></code> is <code class="docutils literal notranslate"><span class="pre">0</span></code><a class="headerlink" href="#check-combinations-to-determine-when-laimemory-is-0" title="Permalink to this headline">Â¶</a></h2>
<p>Combine the outputs into a dataframe</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">thread</span><span class="o">=</span><span class="n">thread_vec</span><span class="p">,</span><span class="n">laimemory</span><span class="o">=</span><span class="n">laimem_vec</span><span class="p">,</span>
               <span class="n">leafmass</span><span class="o">=</span><span class="n">leafmass_vec</span><span class="p">,</span><span class="n">treelai</span><span class="o">=</span><span class="n">treelai_vec</span><span class="p">,</span>
               <span class="n">seasonal_decid</span><span class="o">=</span><span class="n">seasonal_vec</span><span class="p">,</span><span class="n">stress_decid</span><span class="o">=</span><span class="n">stress_vec</span><span class="p">,</span><span class="n">evergreen_decid</span><span class="o">=</span><span class="n">evergreen_vec</span><span class="p">,</span>
               <span class="n">leafonoff</span><span class="o">=</span><span class="n">leafonoff_vec</span><span class="p">,</span><span class="n">cold</span><span class="o">=</span><span class="n">cstatus_vec</span><span class="p">,</span><span class="n">drought</span><span class="o">=</span><span class="n">dstatus_vec</span><span class="p">,</span><span class="n">nnu</span><span class="o">=</span><span class="n">nnu_vec</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<p>Confirm the deciduous states are mutually exclusive</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">decid_states</span> <span class="o">=</span> <span class="n">groupby</span><span class="p">(</span><span class="n">df</span><span class="p">,[</span><span class="o">:</span><span class="n">stress_decid</span><span class="p">,</span><span class="o">:</span><span class="n">seasonal_decid</span><span class="p">,</span><span class="o">:</span><span class="n">evergreen_decid</span><span class="p">]);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">decid_states</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">,</span><span class="o">:</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><p>DataFrameRow (11 columns)</p><table class="data-frame"><thead><tr><th></th><th>thread</th><th>laimemory</th><th>leafmass</th><th>treelai</th><th>seasonal_decid</th><th>stress_decid</th><th>evergreen_decid</th></tr><tr><th></th><th>Int64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th></tr></thead><tbody><tr><th>1</th><td>1</td><td>0.0</td><td>0.00467311</td><td>0.733959</td><td>1.0</td><td>0.0</td><td>0.0</td></tr></tbody></table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">decid_states</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">,</span><span class="o">:</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><p>DataFrameRow (11 columns)</p><table class="data-frame"><thead><tr><th></th><th>thread</th><th>laimemory</th><th>leafmass</th><th>treelai</th><th>seasonal_decid</th><th>stress_decid</th><th>evergreen_decid</th></tr><tr><th></th><th>Int64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th></tr></thead><tbody><tr><th>2</th><td>1</td><td>0.0</td><td>0.0175406</td><td>3.2165</td><td>0.0</td><td>1.0</td><td>0.0</td></tr></tbody></table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">decid_states</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">,</span><span class="o">:</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><p>DataFrameRow (11 columns)</p><table class="data-frame"><thead><tr><th></th><th>thread</th><th>laimemory</th><th>leafmass</th><th>treelai</th><th>seasonal_decid</th><th>stress_decid</th><th>evergreen_decid</th></tr><tr><th></th><th>Int64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th></tr></thead><tbody><tr><th>4</th><td>1</td><td>0.0</td><td>0.0166008</td><td>0.898566</td><td>0.0</td><td>0.0</td><td>1.0</td></tr></tbody></table></div></div>
</div>
<p><em>From the above we can see that the deciduous\evergreen states are mutually exclusive for the whole data set</em></p>
<p>Group the data by which entries have zero and nonzero <code class="docutils literal notranslate"><span class="pre">laimemory</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">laimem_zero</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">laimemory</span> <span class="o">.==</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">laimem_group</span> <span class="o">=</span> <span class="n">groupby</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="o">:</span><span class="n">laimem_zero</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">nrows_laizero</span> <span class="o">=</span> <span class="n">size</span><span class="p">(</span><span class="n">laimem_group</span><span class="p">[</span><span class="mi">1</span><span class="p">])[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>118001
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">describe</span><span class="p">(</span><span class="n">laimem_group</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="data-frame"><thead><tr><th></th><th>variable</th><th>mean</th><th>min</th><th>median</th><th>max</th><th>nunique</th><th>nmissing</th></tr><tr><th></th><th>Symbol</th><th>Float64</th><th>Real</th><th>Float64</th><th>Real</th><th>Nothing</th><th>Nothing</th></tr></thead><tbody><p>12 rows Ã 8 columns (omitted printing of 1 columns)</p><tr><th>1</th><td>thread</td><td>35.3023</td><td>1</td><td>35.0</td><td>71</td><td></td><td></td></tr><tr><th>2</th><td>laimemory</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td></tr><tr><th>3</th><td>leafmass</td><td>0.0195217</td><td>7.12737e-6</td><td>0.0122515</td><td>0.244952</td><td></td><td></td></tr><tr><th>4</th><td>treelai</td><td>2.96299</td><td>0.0279394</td><td>2.64526</td><td>15.957</td><td></td><td></td></tr><tr><th>5</th><td>seasonal_decid</td><td>0.164024</td><td>0.0</td><td>0.0</td><td>1.0</td><td></td><td></td></tr><tr><th>6</th><td>stress_decid</td><td>0.499538</td><td>0.0</td><td>0.0</td><td>1.0</td><td></td><td></td></tr><tr><th>7</th><td>evergreen_decid</td><td>0.336438</td><td>0.0</td><td>0.0</td><td>1.0</td><td></td><td></td></tr><tr><th>8</th><td>leafonoff</td><td>2.0</td><td>2</td><td>2.0</td><td>2</td><td></td><td></td></tr><tr><th>9</th><td>cold</td><td>1.16929</td><td>0</td><td>1.0</td><td>2</td><td></td><td></td></tr><tr><th>10</th><td>drought</td><td>2.34349</td><td>1</td><td>2.0</td><td>3</td><td></td><td></td></tr><tr><th>11</th><td>nnu</td><td>1.12495</td><td>0.0</td><td>0.0</td><td>4.0</td><td></td><td></td></tr><tr><th>12</th><td>laimem_zero</td><td>1.0</td><td>1</td><td>1.0</td><td>1</td><td></td><td></td></tr></tbody></table></div></div>
</div>
<p><em>We see from the above that all instances of zero <code class="docutils literal notranslate"><span class="pre">laimemory</span></code> have nonzero leafmass and actual lai values.  Also the leaf state for the cohorts is always on (<code class="docutils literal notranslate"><span class="pre">leafonoff</span> <span class="pre">=</span> <span class="pre">2</span></code>).</em></p>
<p>What do the non-zero <code class="docutils literal notranslate"><span class="pre">laimemory</span></code> groupings look like?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">describe</span><span class="p">(</span><span class="n">laimem_group</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="data-frame"><thead><tr><th></th><th>variable</th><th>mean</th><th>min</th><th>median</th><th>max</th><th>nunique</th><th>nmissing</th></tr><tr><th></th><th>Symbol</th><th>Float64</th><th>Real</th><th>Float64</th><th>Real</th><th>Nothing</th><th>Nothing</th></tr></thead><tbody><p>13 rows Ã 8 columns (omitted printing of 1 columns)</p><tr><th>1</th><td>thread</td><td>34.0932</td><td>1</td><td>33.0</td><td>71</td><td></td><td></td></tr><tr><th>2</th><td>laimemory</td><td>0.0250192</td><td>1.70872e-5</td><td>0.0119478</td><td>0.36424</td><td></td><td></td></tr><tr><th>3</th><td>leafmass</td><td>4.91558e-19</td><td>0.0</td><td>0.0</td><td>5.55112e-17</td><td></td><td></td></tr><tr><th>4</th><td>treelai</td><td>6.36091e-17</td><td>-8.66239e-16</td><td>0.0</td><td>2.1656e-15</td><td></td><td></td></tr><tr><th>5</th><td>seasonal_decid</td><td>0.84956</td><td>0.0</td><td>1.0</td><td>1.0</td><td></td><td></td></tr><tr><th>6</th><td>stress_decid</td><td>0.15044</td><td>0.0</td><td>0.0</td><td>1.0</td><td></td><td></td></tr><tr><th>7</th><td>evergreen_decid</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td></tr><tr><th>8</th><td>leafonoff</td><td>1.0</td><td>1</td><td>1.0</td><td>1</td><td></td><td></td></tr><tr><th>9</th><td>cold</td><td>0.594051</td><td>0</td><td>1.0</td><td>2</td><td></td><td></td></tr><tr><th>10</th><td>drought</td><td>2.11176</td><td>1</td><td>2.0</td><td>3</td><td></td><td></td></tr><tr><th>11</th><td>nnu</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td></tr><tr><th>12</th><td>laimem_zero</td><td>0.0</td><td>0</td><td>0.0</td><td>0</td><td></td><td></td></tr><tr><th>13</th><td>nnu_gtone</td><td>0.0</td><td>0</td><td>0.0</td><td>0</td><td></td><td></td></tr></tbody></table></div></div>
</div>
<p><em>From the above we can see that the non-zero laimemory values are correlated with deciduous-only cohorts and that have <code class="docutils literal notranslate"><span class="pre">treelai</span></code> and <code class="docutils literal notranslate"><span class="pre">leafmass</span></code> as effectively zero.  We also see that the <code class="docutils literal notranslate"><span class="pre">nnu_gtone</span></code> value is zero for all cohorts which means that all cohorts have leaf layers of <code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">1</span></code>.  Does that mean that these cohorts are all new?  Regardless, this would result in no difference in the comparison of the standard and optimized laimemory code.</em></p>
</div>
<div class="section" id="deciduous-states-of-zero-laimemory">
<h2>Deciduous states of zero <code class="docutils literal notranslate"><span class="pre">laimemory</span></code><a class="headerlink" href="#deciduous-states-of-zero-laimemory" title="Permalink to this headline">Â¶</a></h2>
<p>Now split the data into groups by the various potential decidious states.</p>
<p><strong>Stress deciduous</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">stress_laimem_group</span> <span class="o">=</span> <span class="n">groupby</span><span class="p">(</span><span class="n">laimem_group</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="o">:</span><span class="n">stress_decid</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">describe</span><span class="p">(</span><span class="n">stress_laimem_group</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="data-frame"><thead><tr><th></th><th>variable</th><th>mean</th><th>min</th><th>median</th><th>max</th><th>nunique</th><th>nmissing</th></tr><tr><th></th><th>Symbol</th><th>Float64</th><th>Real</th><th>Float64</th><th>Real</th><th>Nothing</th><th>Nothing</th></tr></thead><tbody><p>12 rows Ã 8 columns (omitted printing of 1 columns)</p><tr><th>1</th><td>thread</td><td>36.0252</td><td>1</td><td>36.0</td><td>71</td><td></td><td></td></tr><tr><th>2</th><td>laimemory</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td></tr><tr><th>3</th><td>leafmass</td><td>0.0140396</td><td>8.04348e-5</td><td>0.0049168</td><td>0.244952</td><td></td><td></td></tr><tr><th>4</th><td>treelai</td><td>3.54048</td><td>0.0279394</td><td>3.51966</td><td>15.5013</td><td></td><td></td></tr><tr><th>5</th><td>seasonal_decid</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td></tr><tr><th>6</th><td>stress_decid</td><td>1.0</td><td>1.0</td><td>1.0</td><td>1.0</td><td></td><td></td></tr><tr><th>7</th><td>evergreen_decid</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td></tr><tr><th>8</th><td>leafonoff</td><td>2.0</td><td>2</td><td>2.0</td><td>2</td><td></td><td></td></tr><tr><th>9</th><td>cold</td><td>1.04754</td><td>0</td><td>1.0</td><td>2</td><td></td><td></td></tr><tr><th>10</th><td>drought</td><td>2.54153</td><td>2</td><td>3.0</td><td>3</td><td></td><td></td></tr><tr><th>11</th><td>nnu</td><td>1.61441</td><td>0.0</td><td>0.0</td><td>4.0</td><td></td><td></td></tr><tr><th>12</th><td>laimem_zero</td><td>1.0</td><td>1</td><td>1.0</td><td>1</td><td></td><td></td></tr></tbody></table></div></div>
</div>
<p><em>From the above description we see that the zero laimemory condition for stress deciduous is always in drought condition 2 or 3 meaning that it is in a Drought Leaf On state.  Confirm that cold status doesnât matter here.</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">nrows_decid</span> <span class="o">=</span> <span class="p">[</span><span class="n">size</span><span class="p">(</span><span class="n">stress_laimem_group</span><span class="p">[</span><span class="mi">2</span><span class="p">])[</span><span class="mi">1</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1-element Array{Int64,1}:
 58946
</pre></div>
</div>
</div>
</div>
<p><strong>Seasonal deciduous</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">seasonal_laimem_group</span> <span class="o">=</span> <span class="n">groupby</span><span class="p">(</span><span class="n">laimem_group</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="o">:</span><span class="n">seasonal_decid</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">describe</span><span class="p">(</span><span class="n">seasonal_laimem_group</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="data-frame"><thead><tr><th></th><th>variable</th><th>mean</th><th>min</th><th>median</th><th>max</th><th>nunique</th><th>nmissing</th></tr><tr><th></th><th>Symbol</th><th>Float64</th><th>Real</th><th>Float64</th><th>Real</th><th>Nothing</th><th>Nothing</th></tr></thead><tbody><p>12 rows Ã 8 columns (omitted printing of 1 columns)</p><tr><th>1</th><td>thread</td><td>34.1183</td><td>1</td><td>34.0</td><td>71</td><td></td><td></td></tr><tr><th>2</th><td>laimemory</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td></tr><tr><th>3</th><td>leafmass</td><td>0.0177811</td><td>7.12737e-6</td><td>0.0112789</td><td>0.203002</td><td></td><td></td></tr><tr><th>4</th><td>treelai</td><td>3.82274</td><td>0.0508732</td><td>3.73171</td><td>15.957</td><td></td><td></td></tr><tr><th>5</th><td>seasonal_decid</td><td>1.0</td><td>1.0</td><td>1.0</td><td>1.0</td><td></td><td></td></tr><tr><th>6</th><td>stress_decid</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td></tr><tr><th>7</th><td>evergreen_decid</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td></tr><tr><th>8</th><td>leafonoff</td><td>2.0</td><td>2</td><td>2.0</td><td>2</td><td></td><td></td></tr><tr><th>9</th><td>cold</td><td>2.0</td><td>2</td><td>2.0</td><td>2</td><td></td><td></td></tr><tr><th>10</th><td>drought</td><td>1.87352</td><td>1</td><td>2.0</td><td>3</td><td></td><td></td></tr><tr><th>11</th><td>nnu</td><td>1.72271</td><td>0.0</td><td>0.0</td><td>4.0</td><td></td><td></td></tr><tr><th>12</th><td>laimem_zero</td><td>1.0</td><td>1</td><td>1.0</td><td>1</td><td></td><td></td></tr></tbody></table></div></div>
</div>
<p><em>Here we see that when the cohort pft is seasonally deciduous the cohorts are all in cold condition 2 (not cold) meaning that it is always in a Cold Leaf On state.  Confirm that drought conditions donât matter.</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">push!</span><span class="p">(</span><span class="n">nrows_decid</span><span class="p">,</span><span class="n">size</span><span class="p">(</span><span class="n">seasonal_laimem_group</span><span class="p">[</span><span class="mi">1</span><span class="p">])[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2-element Array{Int64,1}:
 58946
 19355
</pre></div>
</div>
</div>
</div>
<p>Calculate the total number of deciduous cohort instances</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">sum</span><span class="p">(</span><span class="n">nrows_decid</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>78301
</pre></div>
</div>
</div>
</div>
<p><strong>Evergreen</strong></p>
<p>Determine if all the other zero <code class="docutils literal notranslate"><span class="pre">laimemory</span></code> instances are evergreens.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">evergreen_laimem_group</span> <span class="o">=</span> <span class="n">groupby</span><span class="p">(</span><span class="n">laimem_group</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="o">:</span><span class="n">evergreen_decid</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">nrows_evergreen</span> <span class="o">=</span> <span class="n">size</span><span class="p">(</span><span class="n">evergreen_laimem_group</span><span class="p">[</span><span class="mi">2</span><span class="p">])[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>39700
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">describe</span><span class="p">(</span><span class="n">evergreen_laimem_group</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="data-frame"><thead><tr><th></th><th>variable</th><th>mean</th><th>min</th><th>median</th><th>max</th><th>nunique</th><th>nmissing</th><th>eltype</th></tr><tr><th></th><th>Symbol</th><th>Float64</th><th>Real</th><th>Float64</th><th>Real</th><th>Nothing</th><th>Nothing</th><th>DataType</th></tr></thead><tbody><p>12 rows Ã 8 columns</p><tr><th>1</th><td>thread</td><td>34.8063</td><td>1</td><td>35.0</td><td>71</td><td></td><td></td><td>Int64</td></tr><tr><th>2</th><td>laimemory</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td><td>Float64</td></tr><tr><th>3</th><td>leafmass</td><td>0.0285099</td><td>0.0025451</td><td>0.0155255</td><td>0.207046</td><td></td><td></td><td>Float64</td></tr><tr><th>4</th><td>treelai</td><td>1.68638</td><td>0.469523</td><td>1.56951</td><td>9.71851</td><td></td><td></td><td>Float64</td></tr><tr><th>5</th><td>seasonal_decid</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td><td>Float64</td></tr><tr><th>6</th><td>stress_decid</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td><td>Float64</td></tr><tr><th>7</th><td>evergreen_decid</td><td>1.0</td><td>1.0</td><td>1.0</td><td>1.0</td><td></td><td></td><td>Float64</td></tr><tr><th>8</th><td>leafonoff</td><td>2.0</td><td>2</td><td>2.0</td><td>2</td><td></td><td></td><td>Int64</td></tr><tr><th>9</th><td>cold</td><td>0.945063</td><td>0</td><td>1.0</td><td>2</td><td></td><td></td><td>Int64</td></tr><tr><th>10</th><td>drought</td><td>2.27856</td><td>1</td><td>2.0</td><td>3</td><td></td><td></td><td>Int64</td></tr><tr><th>11</th><td>nnu</td><td>0.106776</td><td>0.0</td><td>0.0</td><td>4.0</td><td></td><td></td><td>Float64</td></tr><tr><th>12</th><td>laimem_zero</td><td>1.0</td><td>1</td><td>1.0</td><td>1</td><td></td><td></td><td>Bool</td></tr></tbody></table></div></div>
</div>
<p>Check that the totals add up</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">sum</span><span class="p">(</span><span class="n">nrows_decid</span><span class="p">)</span><span class="o">+</span><span class="n">nrows_evergreen</span> <span class="o">==</span> <span class="n">nrows_laizero</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>true
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">nrow</span><span class="p">(</span><span class="n">laimem_group</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>42296
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="check-optimized-versus-non-optimized-cohort-instances">
<h2>Check optimized versus non optimized cohort instances<a class="headerlink" href="#check-optimized-versus-non-optimized-cohort-instances" title="Permalink to this headline">Â¶</a></h2>
<p>Optimization loop requires at least 2 leaf layers (i.e. nnu needs to be greater than <code class="docutils literal notranslate"><span class="pre">1</span></code>)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">nnu_gtone</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">nnu</span> <span class="o">.&gt;</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">nnu_group</span> <span class="o">=</span> <span class="n">groupby</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="o">:</span><span class="n">nnu_gtone</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">describe</span><span class="p">(</span><span class="n">nnu_group</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="data-frame"><thead><tr><th></th><th>variable</th><th>mean</th><th>min</th><th>median</th><th>max</th><th>nunique</th><th>nmissing</th></tr><tr><th></th><th>Symbol</th><th>Float64</th><th>Real</th><th>Float64</th><th>Real</th><th>Nothing</th><th>Nothing</th></tr></thead><tbody><p>13 rows Ã 8 columns (omitted printing of 1 columns)</p><tr><th>1</th><td>thread</td><td>35.4175</td><td>1</td><td>35.0</td><td>71</td><td></td><td></td></tr><tr><th>2</th><td>laimemory</td><td>0.00835051</td><td>0.0</td><td>0.0</td><td>0.36424</td><td></td><td></td></tr><tr><th>3</th><td>leafmass</td><td>0.0117506</td><td>0.0</td><td>0.00400252</td><td>0.207046</td><td></td><td></td></tr><tr><th>4</th><td>treelai</td><td>1.54274</td><td>-8.66239e-16</td><td>1.5878</td><td>15.957</td><td></td><td></td></tr><tr><th>5</th><td>seasonal_decid</td><td>0.369969</td><td>0.0</td><td>0.0</td><td>1.0</td><td></td><td></td></tr><tr><th>6</th><td>stress_decid</td><td>0.326939</td><td>0.0</td><td>0.0</td><td>1.0</td><td></td><td></td></tr><tr><th>7</th><td>evergreen_decid</td><td>0.303092</td><td>0.0</td><td>0.0</td><td>1.0</td><td></td><td></td></tr><tr><th>8</th><td>leafonoff</td><td>1.66624</td><td>1</td><td>2.0</td><td>2</td><td></td><td></td></tr><tr><th>9</th><td>cold</td><td>0.960449</td><td>0</td><td>1.0</td><td>2</td><td></td><td></td></tr><tr><th>10</th><td>drought</td><td>2.24631</td><td>1</td><td>2.0</td><td>3</td><td></td><td></td></tr><tr><th>11</th><td>nnu</td><td>0.00215429</td><td>0.0</td><td>0.0</td><td>1.0</td><td></td><td></td></tr><tr><th>12</th><td>laimem_zero</td><td>0.666235</td><td>0</td><td>1.0</td><td>1</td><td></td><td></td></tr><tr><th>13</th><td>nnu_gtone</td><td>0.0</td><td>0</td><td>0.0</td><td>0</td><td></td><td></td></tr></tbody></table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">describe</span><span class="p">(</span><span class="n">nnu_group</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="data-frame"><thead><tr><th></th><th>variable</th><th>mean</th><th>min</th><th>median</th><th>max</th><th>nunique</th><th>nmissing</th></tr><tr><th></th><th>Symbol</th><th>Float64</th><th>Real</th><th>Float64</th><th>Real</th><th>Nothing</th><th>Nothing</th></tr></thead><tbody><p>13 rows Ã 8 columns (omitted printing of 1 columns)</p><tr><th>1</th><td>thread</td><td>33.3444</td><td>1</td><td>35.0</td><td>71</td><td></td><td></td></tr><tr><th>2</th><td>laimemory</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td></tr><tr><th>3</th><td>leafmass</td><td>0.0242605</td><td>0.000108415</td><td>0.0118293</td><td>0.244952</td><td></td><td></td></tr><tr><th>4</th><td>treelai</td><td>4.591</td><td>3.56101</td><td>4.08367</td><td>15.4528</td><td></td><td></td></tr><tr><th>5</th><td>seasonal_decid</td><td>0.25032</td><td>0.0</td><td>0.0</td><td>1.0</td><td></td><td></td></tr><tr><th>6</th><td>stress_decid</td><td>0.711226</td><td>0.0</td><td>1.0</td><td>1.0</td><td></td><td></td></tr><tr><th>7</th><td>evergreen_decid</td><td>0.0384535</td><td>0.0</td><td>0.0</td><td>1.0</td><td></td><td></td></tr><tr><th>8</th><td>leafonoff</td><td>2.0</td><td>2</td><td>2.0</td><td>2</td><td></td><td></td></tr><tr><th>9</th><td>cold</td><td>1.23287</td><td>0</td><td>2.0</td><td>2</td><td></td><td></td></tr><tr><th>10</th><td>drought</td><td>2.41837</td><td>1</td><td>2.0</td><td>3</td><td></td><td></td></tr><tr><th>11</th><td>nnu</td><td>3.94579</td><td>2.0</td><td>4.0</td><td>4.0</td><td></td><td></td></tr><tr><th>12</th><td>laimem_zero</td><td>1.0</td><td>1</td><td>1.0</td><td>1</td><td></td><td></td></tr><tr><th>13</th><td>nnu_gtone</td><td>1.0</td><td>1</td><td>1.0</td><td>1</td><td></td><td></td></tr></tbody></table></div></div>
</div>
<p>From the above we see that NNU group <code class="docutils literal notranslate"><span class="pre">2</span></code> is the group that actually makes it into the optimization loop (i.e. has enough leaf layers with <code class="docutils literal notranslate"><span class="pre">nnu_clai_a</span> <span class="pre">&gt;</span> <span class="pre">1</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">nrows_nonopt</span> <span class="o">=</span> <span class="n">nrow</span><span class="p">(</span><span class="n">nnu_group</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>126724
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">nrows_opt</span> <span class="o">=</span> <span class="n">nrow</span><span class="p">(</span><span class="n">nnu_group</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>33573
</pre></div>
</div>
</div>
</div>
<p>From the above we see that a lot of cohort instances are still going through the old method</p>
<p>Now lets split the group along the those cases that only have <code class="docutils literal notranslate"><span class="pre">laimemory</span></code> of <code class="docutils literal notranslate"><span class="pre">0</span></code> to see if any cohorts with non-zero laimemory are making it into the optimization loop.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">nnu_laimemzero_group</span> <span class="o">=</span> <span class="n">groupby</span><span class="p">(</span><span class="n">nnu_group</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="o">:</span><span class="n">laimem_zero</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><p><b>GroupedDataFrame with 1 group based on key: laimem_zero</b></p><p><i>First Group (33573 rows): laimem_zero = true</i></p><table class="data-frame"><thead><tr><th></th><th>thread</th><th>laimemory</th><th>leafmass</th><th>treelai</th><th>seasonal_decid</th><th>stress_decid</th><th>evergreen_decid</th></tr><tr><th></th><th>Int64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th><th>Float64</th></tr></thead><tbody><tr><th>1</th><td>1</td><td>0.0</td><td>0.157928</td><td>9.45837</td><td>1.0</td><td>0.0</td><td>0.0</td></tr><tr><th>2</th><td>1</td><td>0.0</td><td>0.120101</td><td>8.33951</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>3</th><td>1</td><td>0.0</td><td>0.101504</td><td>5.77198</td><td>1.0</td><td>0.0</td><td>0.0</td></tr><tr><th>4</th><td>1</td><td>0.0</td><td>0.0887333</td><td>5.08658</td><td>1.0</td><td>0.0</td><td>0.0</td></tr><tr><th>5</th><td>1</td><td>0.0</td><td>0.0887333</td><td>5.08658</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>6</th><td>1</td><td>0.0</td><td>0.0384989</td><td>6.43149</td><td>1.0</td><td>0.0</td><td>0.0</td></tr><tr><th>7</th><td>1</td><td>0.0</td><td>0.034717</td><td>5.83557</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>8</th><td>1</td><td>0.0</td><td>0.0331458</td><td>4.23131</td><td>1.0</td><td>0.0</td><td>0.0</td></tr><tr><th>9</th><td>1</td><td>0.0</td><td>0.0258199</td><td>4.08344</td><td>1.0</td><td>0.0</td><td>0.0</td></tr><tr><th>10</th><td>1</td><td>0.0</td><td>0.0258199</td><td>4.08344</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>11</th><td>1</td><td>0.0</td><td>0.0205457</td><td>5.80259</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>12</th><td>1</td><td>0.0</td><td>0.0147176</td><td>6.43341</td><td>1.0</td><td>0.0</td><td>0.0</td></tr><tr><th>13</th><td>1</td><td>0.0</td><td>0.0144875</td><td>5.83683</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>14</th><td>1</td><td>0.0</td><td>0.0144127</td><td>4.23281</td><td>1.0</td><td>0.0</td><td>0.0</td></tr><tr><th>15</th><td>1</td><td>0.0</td><td>0.0124738</td><td>4.08341</td><td>1.0</td><td>0.0</td><td>0.0</td></tr><tr><th>16</th><td>1</td><td>0.0</td><td>0.0124738</td><td>4.08341</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>17</th><td>1</td><td>0.0</td><td>0.014314</td><td>4.97202</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>18</th><td>1</td><td>0.0</td><td>0.014314</td><td>4.97202</td><td>1.0</td><td>0.0</td><td>0.0</td></tr><tr><th>19</th><td>1</td><td>0.0</td><td>0.0136264</td><td>4.73318</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>20</th><td>1</td><td>0.0</td><td>0.0135576</td><td>4.70929</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>21</th><td>1</td><td>0.0</td><td>0.0135328</td><td>4.70068</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>22</th><td>1</td><td>0.0</td><td>0.0117568</td><td>4.08379</td><td>1.0</td><td>0.0</td><td>0.0</td></tr><tr><th>23</th><td>1</td><td>0.0</td><td>0.0117568</td><td>4.08379</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>24</th><td>1</td><td>0.0</td><td>0.0117568</td><td>4.08379</td><td>1.0</td><td>0.0</td><td>0.0</td></tr><tr><th>25</th><td>1</td><td>0.0</td><td>0.0117568</td><td>4.08379</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>26</th><td>1</td><td>0.0</td><td>0.0133819</td><td>4.64825</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>27</th><td>1</td><td>0.0</td><td>0.0145816</td><td>5.06498</td><td>1.0</td><td>0.0</td><td>0.0</td></tr><tr><th>28</th><td>1</td><td>0.0</td><td>0.0145816</td><td>5.06498</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>29</th><td>1</td><td>0.0</td><td>0.0134192</td><td>4.6612</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>30</th><td>1</td><td>0.0</td><td>0.0134192</td><td>4.6612</td><td>0.0</td><td>1.0</td><td>0.0</td></tr><tr><th>&vellip;</th><td>&vellip;</td><td>&vellip;</td><td>&vellip;</td><td>&vellip;</td><td>&vellip;</td><td>&vellip;</td><td>&vellip;</td></tr></tbody></table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">describe</span><span class="p">(</span><span class="n">nnu_laimemzero_group</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="data-frame"><thead><tr><th></th><th>variable</th><th>mean</th><th>min</th><th>median</th><th>max</th><th>nunique</th><th>nmissing</th></tr><tr><th></th><th>Symbol</th><th>Float64</th><th>Real</th><th>Float64</th><th>Real</th><th>Nothing</th><th>Nothing</th></tr></thead><tbody><p>13 rows Ã 8 columns (omitted printing of 1 columns)</p><tr><th>1</th><td>thread</td><td>33.3444</td><td>1</td><td>35.0</td><td>71</td><td></td><td></td></tr><tr><th>2</th><td>laimemory</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td></td><td></td></tr><tr><th>3</th><td>leafmass</td><td>0.0242605</td><td>0.000108415</td><td>0.0118293</td><td>0.244952</td><td></td><td></td></tr><tr><th>4</th><td>treelai</td><td>4.591</td><td>3.56101</td><td>4.08367</td><td>15.4528</td><td></td><td></td></tr><tr><th>5</th><td>seasonal_decid</td><td>0.25032</td><td>0.0</td><td>0.0</td><td>1.0</td><td></td><td></td></tr><tr><th>6</th><td>stress_decid</td><td>0.711226</td><td>0.0</td><td>1.0</td><td>1.0</td><td></td><td></td></tr><tr><th>7</th><td>evergreen_decid</td><td>0.0384535</td><td>0.0</td><td>0.0</td><td>1.0</td><td></td><td></td></tr><tr><th>8</th><td>leafonoff</td><td>2.0</td><td>2</td><td>2.0</td><td>2</td><td></td><td></td></tr><tr><th>9</th><td>cold</td><td>1.23287</td><td>0</td><td>2.0</td><td>2</td><td></td><td></td></tr><tr><th>10</th><td>drought</td><td>2.41837</td><td>1</td><td>2.0</td><td>3</td><td></td><td></td></tr><tr><th>11</th><td>nnu</td><td>3.94579</td><td>2.0</td><td>4.0</td><td>4.0</td><td></td><td></td></tr><tr><th>12</th><td>laimem_zero</td><td>1.0</td><td>1</td><td>1.0</td><td>1</td><td></td><td></td></tr><tr><th>13</th><td>nnu_gtone</td><td>1.0</td><td>1</td><td>1.0</td><td>1</td><td></td><td></td></tr></tbody></table></div></div>
</div>
<p><em>From the above we see that there is only <strong>one</strong> grouping showing that all cohorts that have enough leaf layers to be optimized have <code class="docutils literal notranslate"><span class="pre">laimemory</span> <span class="pre">=</span> <span class="pre">0</span></code>.</em></p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "julia-1.4"
        },
        kernelOptions: {
            kernelName: "julia-1.4",
            path: "./leaf-flutter/deciduous"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'julia-1.4'</script>

           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="README.html" class="btn btn-neutral float-left" title="Deciduous test analysis" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>